{-# LANGUAGE DataKinds #-}
{-# LANGUAGE LambdaCase #-}
{-# LANGUAGE OverloadedStrings #-}
{-# LANGUAGE OverloadedLists #-}
{-# LANGUAGE FlexibleContexts #-}
{-# LANGUAGE TemplateHaskell #-}
{-# LANGUAGE TypeApplications #-}
{-# LANGUAGE RecursiveDo #-}
{-# LANGUAGE ScopedTypeVariables #-}
{-# LANGUAGE MonoLocalBinds #-}
{-# LANGUAGE TupleSections #-}
{-# LANGUAGE GADTs #-}

module Frontend where

import Prelude hiding (filter)

import Control.Applicative
import Control.Lens
import Control.Monad
import Control.Monad.IO.Class (MonadIO, liftIO)
import Data.Text (Text)
import qualified Data.Text as T
import Obelisk.Frontend
import Obelisk.Route
import Obelisk.Route.Frontend
import Obelisk.Generated.Static
import Language.Javascript.JSaddle (eval, liftJSM)
import Reflex.Dom.Core
import Rhyolite.Frontend.App

import Common.Api
import Common.Route
import Frontend.ChooseWallet
import Frontend.Pool
import Frontend.Swap
import Frontend.Portfolio

import Language.Javascript.JSaddle

-- This runs in a monad that can be run on the client or the server.
-- To run code in a pure client or pure server context, use one of the
-- `prerender` functions.
frontend :: Frontend (R FrontendRoute)
frontend = Frontend
  { _frontend_head = do
      el "title" $ text "Obelisk Minimal Example"
      elAttr "link" ("href" =: $(static "main.css") <> "type" =: "text/css" <> "rel" =: "stylesheet") blank
      elAttr "link" ("href" =: "https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css"
        <> "type" =: "text/css"
        <> "rel" =: "stylesheet"
        <> "integrity" =: "sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x"
        <> "crossorigin" =: "anonymous"
        ) blank
      el "script" $ text "var CardanoWasm = null;"
      elAttr "script" ("src" =: $(static "import-lib.js") <> "type" =: "module") blank
      elAttr "script" ("src" =: "https://bundle.run/buffer@6.0.3" <> "type" =: "module") blank
  , _frontend_body = do
      -- `prerender` and `prerender_` let you choose a widget to run on the server
      -- during prerendering and a different widget to run on the client with
      -- JavaScript. The following will generate a `blank` widget on the server and
      -- print "Hello, World!" on the client.
      -- TODO: Determine if you'd like to request Nami wallet permission as soon as user arrives on the webpage.
      prerender_ blank $ liftJSM $ void $ eval ("window.cardano.enable();" :: T.Text)
      -- Note: this signTx line is used to test cbor transaction to see if they are sign-able by nami wallet
      -- (signedTxEv, signTrigger) <- newTriggerEvent
      -- (submitTxEv, submitTrigger) <- newTriggerEvent
      -- dynHexWitness :: Dynamic t Text <- holdDyn "" signedTxEv
      -- display dynHexWitness
      -- prerender_ blank $ liftJSM $ void $ do
      --   let getSignTxCallback :: JSCallAsFunction
      --       getSignTxCallback = fun $ \_ _ args -> case args of
      --         (i:_) -> do
      --           fromJSVal i >>= \case
      --             Just (a :: Text) -> liftIO (signTrigger a)
      --             _ -> pure ()
      --         _ -> pure ()
      --       getSubmitTxCallback :: JSCallAsFunction
      --       getSubmitTxCallback = fun $ \_ _ args -> case args of
      --         (i:_) -> do
      --           fromJSVal i >>= \case
      --             Just (a :: Text) -> liftIO (submitTrigger a)
      --             _ -> pure ()
      --         _ -> pure ()
      --       contract = ""
      --       datum = ""
      --       redeemer = ""
      --   signedTx <- eval ("window.cardano.signTx('" <> testTx <> "');" :: T.Text)
      --   _ <- call signedTx signedTx (getSignTxCallback)
      --   -- TODO: Replace contract, datums, and redeemers with values when setting TransactionWitnessSet
      --   submitTxRes <- return $ ffor dynHexWitness $ \(hexWitness :: Text) -> do
      --         submitTx <- eval("txWitness = buffer.Buffer.from("<> hexWitness <> ", 'hex'); \
      --           \ txVkeyWitnesses = CardanoWasm.TransactionWitnessSet.from_bytes(txWitness); \
      --           \ transactionWitnessSet = CardanoWasm.TransactionWitnessSet.new(); \
      --           \ transactionWitnessSet.set_plutus_scripts(" <> contract <> "); \
      -- 					\ transactionWitnessSet.set_plutus_data(" <> datum <> "); \
      --           \ transactionWitnessSet.set_redeemers(" <> redeemer <> "); \
      --           \ transactionWitnessSet.set_vkeys(txVkeyWitnesses.vkeys()); \
      --           \ const signedTx = Loader.Cardano.Transaction.new( \
      --           \   tx.body(), \
      --           \   transactionWitnessSet, \
      --           \   tx.auxiliary_data()); \
      --           \ txHash = Buffer.from(signedTx.to_bytes()).toString('hex'); \
      --           \ window.cardano.submitTx(txHash);")
      --         _ <- call submitTx submitTx (getSubmitTxCallback)
      --         return ()
      --   -- submitTx <- ffor hexSignedTx $ \txHash -> eval ("window.cardano.submitTx('" <> txHash <> "');" :: T.Text)
      --   return ()
      -- dynSubmitTxRes <- holdDyn "" submitTxEv
      -- display dynSubmitTxRes
        -------------------------------------------------------------------------------------------
      let errorLeft e = case e of
            Left _ -> error "runFrontend: Unexpected non-app ObeliskRoute reached the frontend. This shouldn't happen."
            Right x -> x
      let validFullEncoder = errorLeft $ checkEncoder fullRouteEncoder
      _ <- runObeliskRhyoliteWidget vesselToWire "common/route" validFullEncoder (BackendRoute_Listen :/ ()) app
      return ()
  }

app
  :: forall t m js
  .  ( MonadRhyoliteWidget (DexV (Const SelectedCount)) Api t m
     , Prerender js t m
     , MonadIO (Performable m)
     , SetRoute t (R FrontendRoute) m
     )
  => RoutedT t (R FrontendRoute) m ()
app = subRoute_ $ \case
  FrontendRoute_ChooseWallet -> chooseWallet
  FrontendRoute_WalletRoute -> do
    dAddr <- fmap fst <$> askRoute
    withRoutedT (fmap $ view _2) $ subRoute_ $ \case
      WalletRoute_Swap -> dyn_ $ swapDashboard <$> dAddr
      WalletRoute_Portfolio -> dyn_ $ portfolioDashboard <$> dAddr
      WalletRoute_Pool -> dyn_ $ poolDashboard <$> dAddr

testTx :: T.Text
testTx = "84a60083825820215e22a938f5853ecfc4ab3cb49d25dedb2b0c1dc952dff283a9ad47519e8e01018258203fe5e587c36a29b6151154fd6cf3b0226d172984196c9bf8350d8962e7aa571001825820555d92eb7e540ffc4d9b6a80becce5429737a5787c54d0f28c8ecb5f9d174774010d81825820555d92eb7e540ffc4d9b6a80becce5429737a5787c54d0f28c8ecb5f9d174774000183825839000b865a94e03e65b28e9909cdfbfc60de1a54a88ef91c8172d76fe333f7d225c1ef3ad5530ac63fae5099fc3f482b96bac99fe1f8dc67c1531a34a7ed8283581d701cb4ac551fbe43e4e0b5965bd5b796ef9a0820ae366aadb90c006f06821a006acfc0a2581c17e86dfec8981df58e070430ce87fc7f51d5be7137cc0203ebac00c8a14850696b61436f696e1902cc581c75a70a2a2e897886839a7a30935c2aa36a27406c5e67d21d8f749df5a149506f6f6c5374617465015820d268da97be978c7ac7e45867395ba7123bbf5ecc9daedd34dd2c1cd3aca275f2825839000b865a94e03e65b28e9909cdfbfc60de1a54a88ef91c8172d76fe333f7d225c1ef3ad5530ac63fae5099fc3f482b96bac99fe1f8dc67c153821a0014851ea1581c17e86dfec8981df58e070430ce87fc7f51d5be7137cc0203ebac00c8a14850696b61436f696e1876021a000d8a780e800b582052f261186ce6ff6a4ec866a689619c6ff01dc427e1104a56a90492e88146e109a400818258209ae578fc6fa9f76bef3379eff8e5fcd97bca7fbd5e410d752553ef2ddf21147a584084cde947198469a6e29b14dbebb1adf07c293a0a1d3732e9e887d64f9e43fdfb16860573db2e10b4921b0156829446c5ccb15c0f3f1cb08773b8fd17045ee7090381592d43592d400100003323322332232332232323322332233223233333322222233322233322233322232333222323333333322222222323332223233332222323233223233322232323233223322323233333222223322332233223322332233222232323223232232325335303333300b3333573466e1d401d2002233049305435742a01264646666ae68cdc39aab9d5001480008dd69aba135573ca00446a0c46a60c666ae71241035054310006449926137540026ae84d5d1280491999ab9a3370ea01090001182599a80f82a9aba135573ca01646a0c06a60c266ae712401035054310006249926498cccd5cd19b87500448020814c8cccd5cd19b8750054801881448cccd5cd19b8750064801081448cccd5cd19b8750074800881548cccd5cd19b875008480008c154c160d5d09aab9e500a23506335306433573892103505431000654992649926499263333573466e1cd55cea8012400046601c64646464646464646464646666ae68cdc39aab9d500a480008cccccccccc070cd40a88c8c8cccd5cd19b8735573aa0049000119811181d1aba15002302f357426ae8940088d41bcd4c1c0cd5ce249035054310007149926135573ca00226ea8004d5d0a80519a8150159aba150093335503175ca0606ae854020ccd540c5d728181aba1500733502a04335742a00c66a05466aa0d0098eb4d5d0a8029919191999ab9a3370e6aae754009200023350243232323333573466e1cd55cea80124000466a05866a084eb4d5d0a80118239aba135744a00446a0e66a60e866ae712401035054310007549926135573ca00226ea8004d5d0a8011919191999ab9a3370e6aae7540092000233502a33504275a6ae854008c11cd5d09aba250022350733530743357389201035054310007549926135573ca00226ea8004d5d09aba2500223506f3530703357389201035054310007149926135573ca00226ea8004d5d0a80219a8153ae35742a00666a05466aa0d0eb88004d5d0a801181c9aba135744a00446a0d66a60d866ae71241035054310006d49926135744a00226ae8940044d5d1280089aba25001135744a00226ae8940044d5d1280089aba25001135573ca00226ea8004d5d0a8011919191999ab9a3370ea002900311810981d9aba135573ca00646666ae68cdc3a8012400846040608a6ae84d55cf280211999ab9a3370ea00690011181018181aba135573ca00a46666ae68cdc3a80224000460466eb8d5d09aab9e50062350663530673357389201035054310006849926499264984d55cea80089baa001357426ae8940088d417cd4c180cd5ce249035054310006149926106013505e35305f335738920103505435000604984d55cf280089baa001135573aa00226ea80044d55cea80109aab9e5001137540024424660020060044002444444444424666666666600201601401201000e00c00a00800600440024424660020060044002244246600200600424002244246600200600424002244246600200600424002424444600800a424444600600a424444600400a424444600200a40022464460046eb0004c8004d5411c88cccd55cf80092819919a81918021aba100230033574400408c46464646666ae68cdc39aab9d5003480008ccc01cc8c8c8cccd5cd19b8735573aa004900011980698171aba1500233501002a357426ae8940088d4124d4c128cd5ce249035054310004b49926135573ca00226ea8004d5d0a801999aa805bae500a35742a00466a018eb8d5d09aba25002235045353046335738921035054310004749926135744a00226aae7940044dd50009110919980080200180110009109198008018011000899aa800bae75a224464460046eac004c8004d5410488c8cccd55cf80112817119a81699aa81f98031aab9d5002300535573ca00460086ae8800c1044d5d080089119191999ab9a3370ea002900011a80418029aba135573ca00646666ae68cdc3a801240044a01046a07e6a608066ae712410350543100041499264984d55cea80089baa001121223002003112200112001232323333573466e1cd55cea8012400046600c600e6ae854008dd69aba135744a00446a0726a607466ae71241035054310003b49926135573ca00226ea80048848cc00400c00880048c8cccd5cd19b8735573aa002900011bae357426aae7940088d40d4d4c0d8cd5ce24810350543100037499261375400224464646666ae68cdc3a800a40084a00e46666ae68cdc3a8012400446a014600c6ae84d55cf280211999ab9a3370ea00690001280511a81c1a981c99ab9c4901035054310003a4992649926135573aa00226ea8004484888c00c0104488800844888004480048c8cccd5cd19b8750014800880188cccd5cd19b8750024800080188d40c0d4c0c4cd5ce2490350543100032499264984d55ce9baa0011220021220012001232323232323333573466e1d4005200c200b23333573466e1d4009200a200d23333573466e1d400d200823300b375c6ae854014dd69aba135744a00a46666ae68cdc3a8022400c46601a6eb8d5d0a8039bae357426ae89401c8cccd5cd19b875005480108cc048c050d5d0a8049bae357426ae8940248cccd5cd19b875006480088c050c054d5d09aab9e500b23333573466e1d401d2000230133016357426aae7940308d40d4d4c0d8cd5ce2481035054310003749926499264992649926135573aa00826aae79400c4d55cf280109aab9e500113754002424444444600e01044244444446600c012010424444444600a010244444440082444444400644244444446600401201044244444446600201201040024646464646666ae68cdc3a800a400446660106eb4d5d0a8021bad35742a0066eb4d5d09aba2500323333573466e1d400920002300a300b357426aae7940188d4098d4c09ccd5ce2490350543100028499264984d55cea80189aba25001135573ca00226ea80048488c00800c888488ccc00401401000c80048c8c8cccd5cd19b875001480088c018dd71aba135573ca00646666ae68cdc3a80124000460106eb8d5d09aab9e500423502035302133573892010350543100022499264984d55cea80089baa00121223002003212230010032001212230020032212233001004003200111220021221223300100400312001122222005122222004212222230030061222220021222220012001232323333573466e1cd55cea8012400046600c66a01646666ae68cdc39aab9d37540029000100611a8089a980919ab9c49103505431000134992635742a00466a01646666ae68cdc39aab9d37540029000100511a8089a980919ab9c491035054310001349926357426ae8940088d403cd4c040cd5ce249035054310001149926135573ca00226ea80048848cc00400c0088004480048004480048004488c8cccd5cd19b8735573aa00290001199aa802bae75c6ae84d55cf280111a8041a980499ab9c4901035054310000a49926137540022244464646666ae68cdc39aab9d5002480008cd54020c018d5d0a80118029aba135744a00446a0126a601466ae712401035054310000b49926135573ca00226ea8004448848cc00400c008448004498480048004480048004448c8c00400488cc00cc008008004ccc8c8ccc888ccc888ccc888cc88cc88ccc888cc88cc88c8c8ccc888c8c8c8cc88c8c8c8c8cc88cc88cc88c8c8cccccc888888c8c8c8ccc888c8cc88cc88c8cccc8888c8c8c8c8c8c8c8cc88cc88c8c8cccc8888cc88c8c8c8c8c8c8c8c8cccccccc88888888cccc8888cc88cc88cc88cc88cc88cc88c8cccc8888cc88c8c8c8c8c8c8c8c8cc88c8cc88ccccc88888c8cc88c8c8c8c8c8c8c8c8c8cc88c888c8c8c8888c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8cd4c1fc0508c8c94ccccd4c2200405842800454cd4c27c04cd40894cd4d42bc04c0a005484d4c12000488d4c2a4040048880084d4c11cd42e00526223530a80100122200201c1500115335309f0133573892118556e697377617020636f696e206e6f742070726573656e74000a0011500110a0012135309101001232232323232323232323232533530ad013350305335350bd01303602321353056001223530b7010012220021353055350c60149888d4c2d8040048880080a85400454cd4c2b404cd5ce24918556e697377617020636f696e206e6f742070726573656e74000ae011500110ae011533530ac01333502a08e0102233502c3091013350b60100d0103508301029150011533530ac0133573892012576616c69646174654372656174653a20466163746f72792068617368206d69736d61746368000ad011500110ad011533530ab013307e00b0091533530ab013357389212876616c69646174654372656174653a202063616e6e6f74206265207468652073616d6520636f696e000ac011500110ac01150011533530aa0133355306d120013507750762533530ab013307d00100c10ac0110ad0100e150011533530aa0133573892012676616c69646174654372656174653a20206475706c696361746520706f6f6c7320666f756e64000ab011500110ab011533530a90133502c5011025150011533530a90133573892011976616c69646174654372656174653a206e6f7420756e697479000aa011500110aa011533530a801333573466e1cccc0b54040d4d542d00409088008c0f002540102a8042a4045400454cd4c2a004cd5ce2493076616c69646174654372656174653a206d696e746564206c697175696469747920646f6573206e6f7420657175617465000a9011500110a9011533530a701333573466e25401920000a8010a901150011533530a7013357389212776616c69646174654372656174653a206f757441206e6f742067726561746572207468616e2030000a8011500110a8011533530a601333573466e25400d20000a7010a801150011533530a6013357389212776616c69646174654372656174653a206f757441206e6f742067726561746572207468616e2030000a7011500110a7011533530a50133350230870101b33502533089010065001353550b101005223330280293350b10133550b4010023350b10133550b401001500650b20150b201353550b3010052233302a02b3350b30133550b6010023350b30133550b601001500650b40150b401350800102510a70113357389212876616c69646174654372656174653a20506f6f6c20446174756d2068617368206d69736d61746368000a6011332253335307f32307f330840100148008cdc100100090a99a985380999ab9a3371200290000540085480899b80001480084c2840458854cd4c29c04ccd5cd19b89001480002a0042a40440044c28404584c2800459400d40044d4d542bc0400488d4c2b0054038888ccc0b40080140104d4d542b40400488d4c2a8054030888ccc0ac0080140104280044280044d4c0a005088d4c11800888888888894cd4c2a804ccc1a40c801cccc0ac0b142d404cc1fd200133302b02c35081010263350b40133550b701353550b601026220023350b40133550b701303e353550b601500f22002353550b601500f2200150b50150b5011500d1533530aa013357389211077726f6e67206d696e742076616c7565000ab011500d10ab0115335309d01333501b07f01333501d30820133355305f12001225335309f0133071002353550ab01500422002100113350a90100200150a8010013507401a109f011335738920114666163746f7279206f75747075742077726f6e670009e01232323232323223232323232323232323232323232325333335309c0102a1533530b301335036501e02f150011533530b30133573892123706f6f6c207374616b6520746f6b656e206d697373696e672066726f6d20696e707574000b4011500110b4011533530b30133503635303d0292235305b0022222222222333553082011200133508e01304004150ca012353068001223530c90100122200200a03010b501133573892011e556e697377617020666163746f727920696e707574206578706563746564000b401210b5011533530b301333573466e25403d20000b4010b501150081533530b3013357389210c7a65726f2072656d6f76616c000b4011500810b40113530a401017232232533530b70133332223223232323232533530c101333573466e2402920000c2010c301150011533530c10133573892116657870656374656420706f736974697665206f6c6441000c2011500110c2011533530c001333573466e2402120000c1010c201150011533530c001335738920116657870656374656420706f736974697665206f6c6442000c1011500110c1011533530bf01333573466e2401920000c0010c101150011533530bf01335738920116657870656374656420706f7369746976652d6e657741000c0011500110c0011533530be01333573466e2400d20000bf010c001150011533530be01335738920116657870656374656420706f7369746976652d6e657742000bf011500110bf011533530bd01333573466e20cdc119b813370400890680799b82533530bd01333573466e25200050030bf010be011500314800120063370266e0800920d00f33704a66a617a02666ae68cdc4a4000a00217e0217c022a002290002400c66e08cdc119b82483403d20d00f0060050be010bf0110bf0113357389211c65787065637465642070726f6475637420746f20696e637265617365000be01133702002008266e0400400cc00d40a0c00540a0c00d40a8c00540a854cd4c2dc04cd40e940a00cc540a454cd4c2dc04cd5ce248130657870656374656420706f6f6c20737461746520746f6b656e20746f2062652070726573656e7420696e20696e707574000b8011502910b80110b801233503b00100223350390010021533530b2013308401016353550be01501e22002150011533530b20133573892012c6f757470757420706f6f6c20666f722073616d65206c69717569646974792070616972206578706563746564000b3011500110b3011533530b101333573466e21403d20000b2010b3011533530b101333573466e21404520000b2010b3011500215001150011533530b0013357389201166d757374206e6f742072656d6f766520746f6b656e73000b1011500110b1011533530af01333573466e21400d20000b0010b101150011533530af013357389212376616c69646174654164643a20696e73756666696369656e74206c6971756964697479000b0011500110b0011533530ae01333573466e1d4008ccccc888894ccd4c23004c22c04cc24004cdc119b820030033370466e00014008cdc000200099b8200500421337020020084266e040040104d433004d4c2e004cd5ce24813463616c63756c6174654164646974696f6e616c4c69717569646974793a20696e73756666696369656e74206c6971756964697479000b9014994035403c02d403140382c0042bc045400454cd4c2b804cd5ce24812077726f6e6720616d6f756e74206f66206c697175696469747920746f6b656e73000af011500110af011353037023223530550022222222222533530b9013330780410073350c30133550c601353550c501035220023350c30133550c601304d01d500d50c40150c40110bb0113357389212777726f6e6720616d6f756e74206f66206c697175696469747920746f6b656e73206d696e746564000ba011337026a6aa17002a030440020122a66a615602666ae68cdc4280380405680856008a8008a99a98558099ab9c49011d72656d6f76616c206f6620746f6f206d756368206c6971756964697479000ac011500110ac011533530aa0133502d5018026150011533530aa01335738920117706f6f6c20737461746520636f696e206d697373696e67000ab011500110ab011533530a9013307b353550b50150182200200d150011533530a90133573892011b77726f6e67206c697175696469747920706f6f6c206f7574707574000aa011500110aa011533530a80133502b3530af015018222002024150011533530a801335738920123706f6f6c20737461746520636f696e206d697373696e672066726f6d206f7574707574000a9011500110a901135303101d2235304f0022222222222533530b30133307203b00733303403550be01330880148004cd42f404cd5430004d4d542fc040bc88008cd42f404cd5430004c11c05d403d42f80542f8045403454cd4c2cc04cd5ce24811a6c697175696469747920746f6b656e73206e6f74206275726e74000b4011500d10b4011533530a601333573466e24d4d542c80540048800920000a7010a8011533530a601333573466e24d4d542c80540048800520000a7010a80110a801150a501150a501133550b20133702a00e66e0ccdc12803a80080119b8150083370666e09402140040084cdc08009a9aa85800a80991000899b813530930100622353550b0010022233302b5010002001500113530920100522353550af010022233302a50100020011337026a612202008446a6aa15c0200244666052a01c004002a00226a612002006446a6aa15a0200244666050a01c00400226a611e02004446a6aa158020044466604ea02000400226a611c02002446a6aa156020024466604ca01e0040022a66a6a1480260286a604a022446a60860044444444444014260022c442a66a6a14c0200226a608a004446600c004002442600a2c46a60866a168026a61400266ae712411f65787065637465642065786163746c79206f6e6520706f6f6c20696e707574000a10149888cc01000800488d4c288040048894cd4d42b80400484cc110d4c0a4054880080044d42dc04d4c28c04cd5ce24811a706f6f6c20696e707574207769746e657373206d697373696e67000a4014984d4c08803888d4c100008888888888801c54cd4d428004c044c0740344c24004588854cd4d4288040044008884c25004584d4c27405400c88800854cd4d429404c07802c84d4c0f800488d4c27c040048880084d4c0f4d42b805262235309e01001222002135309b0150012225335350a701001213303d35302200e220020011350b00135309c0133573892120706f6f6c206f757470757420646174756d2068617368206e6f7420666f756e640009d0149854cd4d427004c038c0640244c24004588854cd4d4278040044008884c250045854cd4d428804c06c02084d4c0ec00488d4c270040048880084d4c0e8d42ac05262235309b0100122200213530980150012225335350a401001213303a35301f00b220020011350ad013530990133573892011b706f6f6c206f7574707574207769746e657373206d697373696e670009a0149854cd4d426404c0580184c23804588854cd4d426c040044008884c248045854cd4d427c04c06001484d4c0e000488d4c264040048880084d4c0dcd42a00526223530980100122200215335308e01335011500100a1500315335308e01335738920131657870656374656420706f6f6c20737461746520746f6b656e20746f2062652070726573656e7420696e206f75747075740008f0115003108f01153353509601300130130031309101162215335350980100113530960100222200222130950116320013550a60122533535097010011509901221353097010022225335350a301001215335309401333573466e3c004d4d5428004d4c07802888d4c0f000888888888894cd4d42c004cc0b002802c84d4c12400488d4c2a804004888d4c2d00400c88cd4c2f8040088c2b0045894cd4d42e40401084cd542dc040080044c2b004584c28c04588800425804254044cd427804018c0200144c0200144c01c0104d4c05400488d4c0cc00888888888894cd4c25c04ccd54c16848004d4191418c94cd4c26004ccd5cd19b8f001353550a4010142200209a0109901109901109a013355306d120012353550a40100122002007109901133573892011e646964206e6f742065787065637420556e6973776170206d696e74696e670009801320013550a101225335350920100115094012215335308b0133500e3530330022235309401001222002007133509501002300400113004001320013550a001225335350910100115093012215335308a0133500d353091010022220020061335094010023004001130040013200135509f0122533535090010011509201221533530890133500c35309001002222002005133509301002300400113004001122235300f0022235302d0022222222222353501000d22533530930133355305612001350575058235309b010012225335350a701001215335350a80133225335350aa0133355305d1200150582353550a701001225335309d01333573466ebc00401427c04278044d42bc0400c542b80400484d42b404d4d5429c0400488008542ac04c05801c02484cc1b4004008426404426004ccc06803002c0344254044cd5ce249024c310009401122123300100300212001222335530581200123535508f01001223355092010023355305b120012353550920100122335509501002333535505000123300a4800000488cc02c0080048cc0280052000001330420020012233700004002244666ae68cdc399a801801000a400410202100022446a6aa114020024466600a0080040024446464600200a640026aa132024466a6a114020029000111a9aa8478080111299a984280999ab9a3371e00401210e0210c022600e0022600c006640026aa130024466a6a112020029000111a9aa8470080111299a984200999ab9a3371e00400e10c0210a0220022600c00646a600a002446a6046004444444444466601c014012016444a66a6a1180266010006002426a604a002446a610c02002444666aa608824002446a6116020044446a612a02010446a612e0200a4464a66a61180266a61440200a466a6146020084a66a611c02666ae68cdc780100084800847808a801884780904780919a9851808021047809299a984700999ab9a3371e0040021200211e022a006211e02266a12c0201401220122a66a6a1360200642a66a6a138020044266a614002004466a614202004466a614a02004466a614c020044660ca004002412402466a614c020044124024660ca0040024441240244466a614602008412402444a66a612602666ae68cdc380300184a8084a008a99a984980999ab9a3370e00a00412a0212802266036008002212802212802211a022a66a6a136020024211a02211a02a11a0201026a12a026a61020266ae71241024c66000820149888ccd5cd19b8700200107c07b23530020012235302000222222222223301000a00b22123300100300220012253333530030012150880121508801215088012133355303a1200150352353020001225335307a5335307a333573466e3cd4c09000888008d4c090010880081f01ec4ccd5cd19b87353024002220013530240042200107c07b107b13508c010031508b0100321222230040052122223003005212222300200521222230010052001120012001235305e0012232323233714a00266e294008cdc52800a80109a9aaaa8032801111100189a9aaaa802a800911100089a9aa83d801111a9aa83e80191299a9839999991111a9aa84180801111a9aa84280801912999a980e199a80c8040020010a999a980e199a80c803801800883e083e083e883e083e99999999a80982380800580500680600780719999999a80982380800580500680600780700300289999aaaa80480200180100089999aaaa804801000802001888891110919998008028020018010888900091199ab9a337220040020da0d844666ae68cdc800100083603591199ab9a337200040020d40d644666ae68cdc880100083483511299a9833999ab9a337220040020d20d02004200244a66a60cc666ae68cdc88010008340338800880111299a9832999ab9a3371e0040020ce0cc20122a66a60ca666ae68cdc880100083383308038804091a9a80100091111111003891111111091999999980080480400380300280200180109000891100189110010911000900091299a9a8369a98018011111111111299a9a83b999aa981509000a81291a9aa83a00091299a9835199ab9a3371e00401c0d80d626a0f80062a0f6004426a0f46a6aa0e8002440022a0f04646464266a60886666ae68cdc3a800a400446608c60a46ae85400cc8c8cccd5cd19b8735573aa002900011bad357426aae7940088d41f8d4c1a8cd5ce2481035054310006b49926137540026ae84d5d1280191999ab9a3370ea0049000118241918299bac001357426aae7940148d41f0d4c1a0cd5ce2490350543100069499264988d41ecd4c19ccd5ce2481136572726f72206465636f64696e6720646174610006849888cd541c00080044d55cea80109aab9e50011375400226a0ec6a60c466ae7124011a706f6f6c20696e70757420646174756d206e6f7420666f756e6400063498888888888848cccccccccc00402c02802402001c01801401000c00880048848cc00400c00880048848cc00400c008800448848cc00400c0084800448848cc00400c0084800448848cc00400c00848004484888c00c010448880084488800448004848888888c01c0208848888888cc018024020848888888c014020488888880104888888800c8848888888cc0080240208848888888cc00402402080044cd4044894cd4d41500088400c4005414c888ccd54c01c48004d404540408d4d5414400488ccd54c02848004d4051404c8d4d5415000488ccd4d540480048cc0292000001223300b00200123300a00148000004cc01000800488cd54c060480048d4d5413c00488cd54148008ccd4d540340048cd54c070480048d4d5414c00488cd54158008d5405000400488ccd55402006c0080048cd54c070480048d4d5414c00488cd54158008d54048004004ccd55400c058008004444888ccd54c010480054130cd54c060480048d4d5413c00488cd54148008d54040004ccd54c0104800488d4d54140008894cd4c118ccd54c02448004d4029402c8d4d5414c00488cc028008014018400c4cd414001000d4134004cd54c060480048d4d5413c00488c8cd5414c00cc004014c8004d5417c894cd4d41400044d5404000c884d4d54154008894cd4c12ccc0300080204cd5405401c0044c01800c008c8004d5416088448894cd4d41300044008884cc014008ccd54c01c48004014010004c8004d5415c88448894cd4d412c0044d4d404000c88004884ccd4d404801488008c010008ccd54c01c4800401401000448cd403088ccd4d401400c88008008004d4d400c004880044cd4008894cd4c0f400840fc40040f048848cc00400c008480044484888c00c01044884888cc0080140104484888c0040104480044cd4014894cd4c0d8008400440dc0d848cd400c88ccd4d401800c88008008004d4d40100048800448848cc00400c0084800448848cc00400c0084800488c8d4c08800c88d4c090010894cd4c0d4cc0200100084d4c09801c88d4c0a0020894cd4c0e4cc03000c00440ec54024540144d4c08400888d4c08c00c894cd4c0d0cc01c0100044d4c09401888d4c09c01c88cc02c00c00840d488d4d540ec00888d4d540f400c894cd4c0ccccd5cd19b8f004002035034133007003001103422333573466e3c0080040c00bc88cd54c00c480048d4d540e800488cd540f4008cd54c018480048d4d540f400488cd54100008cdc1004000800800990009aa822110891299a9a81b8008a81c91099a81d180200119aa980309000802000891a9aa81b0009119a81b19aa81c80119a81b19aa81c800a4004a06ea06e640026aa08444646464a66a605a666ae68cdc419b8250035002480000bc0b8401c54cd4c0b4ccd5cd19b875003480000bc0b84c021200015335302d333573466e1d400d40080bc0b84c021200215335302d333573466e21400d40080bc0b84c025200015335302d333573466e21400d200002f02e130053300a337029000280199b814800140084cc005200233700900119b8350035002320013550462223253353030333573466e1ccdc119b82003003500550060320311300b003153353030333573466e1c008cdc0001a4004064062260180062a66a6060666ae68cdc499b8233704a002a002a00aa00c064062266008a002004266008006a002266e0ccdc0001000a400826a6a0120044400226a6a010002440044244460060084244460040082444002400244664464a66a6050666ae68cdc38012400005405226a0826a605a66ae71241035054330002e4984cd401ccdc2001a80099b84002500113301f53353027333573466e20009200002902813370290000010801299a9813999ab9a337100029000014814099b81480000044004cdc1001299a9812999ab9a3370e00290000138130a40002a66a604a666ae68cdc4800a400004c04e29001099b8148001200253353025333573466e20005200002702613370290000008800891091980080180109000890009000919a9801000919ba548000cd5d01ba730060013762931119ba548008cd5d0180400119aba03374a900019aba037500026ec5263762931091180100191091198008020019000990009aa81a11299a9a81280089bb1498884cd5d01802801180200091a98058009119ba548000cd5d019a80211a980900099ba548000dd8a4c00466ae80cd40108d4c040004cdd2a40006ec52600137629309119ba548000cd5d01a9aa8130009119ba548000cd5d01ba90023357406ea4004dd8a4c6ec5261222220051222220042122222300300612222200212222200120013200135502b2233335573e0024a03e466a03c60086ae84008c00cd5d100100c919191999ab9a3370e6aae754009200023300633500b23333573466e1cd55ce9baa0014800080308d40bcd4c06ccd5ce2481035054310001c4992635742a00466a01646666ae68cdc39aab9d37540029000100511a8179a980d99ab9c491035054310001c49926357426ae8940088d40b4d4c064cd5ce249035054310001a49926135573ca00226ea80048848cc00400c0088004480048004480048004488c8cccd5cd19b8735573aa002900011919191999ab9a3370e6aae75400920002335501e375c6ae854008dd71aba135744a00446a0546a602c66ae71241035054310001749926135573ca00226ea8004d5d09aab9e500223502635301233573892103505431000134992613754002640026aa044444a66a6016666ae68cdc3800a400001a018200426600600266e140080048d4084d4c034cd5ce24812065787065637465642065786163746c79206f6e6520706f6f6c206f75747075740000e4988d4080d4c030cd5ce2493163616c63756c617465496e697469616c4c69717569646974793a20696e73756666696369656e74206c69717569646974790000d4984800480048d4074d4c024cd5ce24811f65787065637465642065786163746c79206f6e20706f6f6c206f75747075740000a4988d4070d4c020cd5ce2492365787065637465642065786163746c79206f6e6520556e6973776170206f7574707574000094984cd5ce2481166e6f6e2d706f736974697665206c6971756964697479000021220021220012001235017353003335738921024c67000044988d4c010d4058d4c008cd5ce2493665787065637465642065786163746c79206f6e65206f757470757420746f207468652073616d65206c697175696469747920706f6f6c0000349888800848004800488848ccc00401000c00880044488008488488cc00401000c48004448848cc00400c0084480048848cc00400c008800448488c00800c4488004480048488c00800c888488ccc00401401000c80048488c00800c8488c00400c8004498448c8c00400488cc00cc008008004cc88cd540092211cd6298a9d6b5f7b66258377577927cd61a97a0439bc41079bee6d7b2000488107556e697377617000112212330010030021120013322335500248811c75a70a2a2e897886839a7a30935c2aa36a27406c5e67d21d8f749df500488109506f6f6c5374617465001122123300100300211200110481d87a9fd8799fd8799fd8799f4040ffffd8799fd8799f581c17e86dfec8981df58e070430ce87fc7f51d5be7137cc0203ebac00c84850696b61436f696effffffd8799f1a00011437ffff0581840001d87b80821a0020daa41a2edf8f3df5f6"
